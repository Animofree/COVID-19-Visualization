{"remainingRequest":"C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization\\www\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization\\www\\src\\components\\Map.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization\\www\\src\\components\\Map.vue","mtime":1584631036000},{"path":"C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization\\www\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization\\www\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization\\www\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization\\www\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization\\www\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5wYWdlSGVhZCB7CiAgaGVpZ2h0OiAxMDBweCAhaW1wb3J0YW50OyAKICBwYWRkaW5nLXRvcDogNXB4ICFpbXBvcnRhbnQ7CiAgcGFkZGluZy1ib3R0b206IDEwcHggIWltcG9ydGFudDsKfQojcm9vdCB7CiAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDExNXB4KTsgCn0KYXtjb2xvcjogI2RkNDgxNH0KLmVsLWlucHV0X19pbm5lciB7IGNvbG9yOiAjZmZmOyBiYWNrZ3JvdW5kLWNvbG9yOiAjMGMyYzQ1fQouY29udGVudHtjb2xvcjojZmZmO3dpZHRoOjE5MHB4O2hlaWdodDo4MHB4O2JhY2tncm91bmQtY29sb3I6IzA1MTEyNztib3JkZXI6MXB4IHNvbGlkICMwYzJjNDV9Ci5wb3BfdGl0bGV7ZmxvYXQ6bGVmdDtwYWRkaW5nLWxlZnQ6MTBweDt3aWR0aDoxODBweDtoZWlnaHQ6MzZweDtsaW5lLWhlaWdodDozNnB4O2JhY2tncm91bmQ6dXJsKC4uL2Fzc2V0cy90aXRsZS5wbmcpO2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1zaXplOjE2cHh9Ci5wb3BfZGVwdHtmbG9hdDpsZWZ0O3BhZGRpbmc6MTJweCA1cHg7bGluZS1oZWlnaHQ6MTVweDt0ZXh0LWFsaWduOmNlbnRlcjttYXJnaW46MCAxMHB4fQoucG9wX2Fycm93e2Zsb2F0OmxlZnQ7d2lkdGg6MTVweDtoZWlnaHQ6MjRweDtsaW5lLWhlaWdodDoyNHB4O2JhY2tncm91bmQ6dXJsKC4uL2Fzc2V0cy9hcnJvdy5wbmcpIG5vLXJlcGVhdCBjZW50ZXIgY2VudGVyfQouYXJyb3d7ZGlzcGxheTpibG9jazt3aWR0aDoxN3B4O2hlaWdodDoxMHB4O2JhY2tncm91bmQ6dXJsKC4uL2Fzc2V0cy9lbS5wbmcpIG5vLXJlcGVhdDtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjUwJTttYXJnaW4tbGVmdDotNXB4O2JvdHRvbTotMTBweH0K"},{"version":3,"sources":["Map.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Map.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div id=\"root\">\n        <div id=\"map\" style=\"height: 100%\">地图</div>\n        <div style=\"position: fixed; right: 10px; top: 160px; width: 100px; \">\n              <el-select v-model=\"currentProvince\" size=\"small\" placeholder=\"请选择\" @change=\"loadProvince\">\n                <el-option\n                v-for=\"item in provinces\"\n                :key=\"item.code\"\n                :label=\"item.name\"\n                :value=\"item.code\">\n                </el-option>\n            </el-select>\n        </div>\n\n        <div style=\"position: fixed; right: 10px; top: 120px; width: 100px\">\n              <el-select v-model=\"mapIndex\" size=\"small\" placeholder=\"请选择\" @change=\"resetMap\">\n                <el-option\n                v-for=\"item in maps\"\n                :key=\"item.index\"\n                :label=\"item.label\"\n                :value=\"item.index\">\n                </el-option>\n            </el-select>\n        </div>\n\n        <div style=\"position: fixed; right: 10px; top: 90px; font-weight: 400; font-family: 宋体;  \" class=\"blink\">\n            <router-link to=\"/china\">返回</router-link>\n        </div>\n    </div>\n    \n    \n</template>\n\n<script>\nimport {MapCtl, loadPolygon} from \"../js/map\";\nimport {Provinces} from \"../js/region\";\nimport * as maptalks from 'maptalks';\nimport {loadBuilding} from \"../js/building\";\nimport {loadLines3D} from \"../js/lines3D\";\nimport { Utils } from '../js/utils';\n\nexport default {\n    name: 'Map',\n    data () {\n        return {\n            map: null,\n            planeLayer: null,\n            buildingLayer: null,\n            currentProvince: \"510000\",\n            currentCity: \"\",\n            data: null,\n            maps: [\n                {label: '常规地图', map: 'Gaode', type: '0', index: 0}, \n                {label: '暗黑2.5D', map: 'Gaode', type: '1', index: 1}, \n                {label: '3D场景', map: 'Gaode', type: '1', index: 2}],\n            mapIndex: 1,\n            provinces: Object.keys(Provinces).map(k => ({code: k, name: Provinces[k].name}))\n        };\n    },\n    mounted () {\n        this.mapIndex = parseInt(Utils.getCookie(\"mapIndex\", 1));\n        this.init();\n        this.loadProvince(this.currentProvince);\n    },\n    methods: {\n        init () {\n            let mapConfig = MapCtl.getConfig();\n            this.map = new maptalks.Map('map', mapConfig);\n            this.map.on('moveend', MapCtl.handleMapMove);\n        },\n        loadProvince (code) {\n            let $this = this;\n            MapCtl.loadData(code, function (features) {\n                let center = (code in Provinces) ? Provinces[code].cp : null;\n                if (features.features[0]) center = features.features[0].properties.cp;\n                $this.map.setCenter(center);\n                $this.map.setZoom(11);\n                $this.data = features;\n                $this.loadMap($this.mapIndex, features);\n            });\n        },\n        loadMap (idx, features) {\n            let funs = [loadPolygon, loadBuilding, loadLines3D];\n            funs[idx](this.map, features);\n        },\n        resetMap: function (idx) {\n            let item = this.maps[idx];\n            Utils.setCookie(\"mapStyle\", [item.map, item.type].join(\"_\"));\n            Utils.setCookie(\"mapIndex\", idx);\n            this.map.remove();\n            this.map = null;\n            this.init();\n            this.loadMap(idx, this.data);\n        }\n    }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style>\n.pageHead {\n  height: 100px !important; \n  padding-top: 5px !important;\n  padding-bottom: 10px !important;\n}\n#root {\n    height: calc(100% - 115px); \n}\na{color: #dd4814}\n.el-input__inner { color: #fff; background-color: #0c2c45}\n.content{color:#fff;width:190px;height:80px;background-color:#051127;border:1px solid #0c2c45}\n.pop_title{float:left;padding-left:10px;width:180px;height:36px;line-height:36px;background:url(../assets/title.png);font-weight:bold;font-size:16px}\n.pop_dept{float:left;padding:12px 5px;line-height:15px;text-align:center;margin:0 10px}\n.pop_arrow{float:left;width:15px;height:24px;line-height:24px;background:url(../assets/arrow.png) no-repeat center center}\n.arrow{display:block;width:17px;height:10px;background:url(../assets/em.png) no-repeat;position:absolute;left:50%;margin-left:-5px;bottom:-10px}\n</style>\n"]}]}