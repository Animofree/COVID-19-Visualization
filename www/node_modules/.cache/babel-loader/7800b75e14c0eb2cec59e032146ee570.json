{"remainingRequest":"C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization-master\\www\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization-master\\www\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization-master\\www\\src\\js\\utils.js","dependencies":[{"path":"C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization-master\\www\\src\\js\\utils.js","mtime":1584631036000},{"path":"C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization-master\\www\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization-master\\www\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization-master\\www\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5jb25zdHJ1Y3RvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsgLy8gaW1wb3J0IFFzIGZyb20gJ3FzJzsKCmltcG9ydCB7IEFQSSB9IGZyb20gIi4vc2VydmVyIjsKaW1wb3J0IGVjaGFydHMgZnJvbSAnZWNoYXJ0cyc7CmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzLWludGVycG9sYXRlJzsKdmFyIFV0aWxzID0ge307CgpVdGlscy5zZXRDb29raWUgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUsIGhvdXIpIHsKICBob3VyID0gaG91ciB8fCAyMDA7CiAgdmFyIGV4cCA9IG5ldyBEYXRlKCk7CiAgZXhwLnNldFRpbWUoZXhwLmdldFRpbWUoKSArIGhvdXIgKiAzNjAwICogMTAwMCk7CiAgZG9jdW1lbnQuY29va2llID0gbmFtZSArICc9JyArIGVzY2FwZSh2YWx1ZSkgKyAnO2V4cGlyZXM9JyArIGV4cC50b1VUQ1N0cmluZygpOwp9OwoKVXRpbHMuZ2V0Q29va2llID0gZnVuY3Rpb24gKG5hbWUsIGRmdFZhbHVlKSB7CiAgaWYgKGRmdFZhbHVlID09PSB1bmRlZmluZWQpIGRmdFZhbHVlID0gbnVsbDsKICB2YXIgcmVnID0gbmV3IFJlZ0V4cCgnKF58ICknICsgbmFtZSArICc9KFteO10qKSg7fCQpJyk7CiAgdmFyIGFyciA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChyZWcpOwogIHJldHVybiBhcnIgPyB1bmVzY2FwZShhcnJbMl0pIDogZGZ0VmFsdWU7Cn07CgpVdGlscy5wb3N0RGF0YSA9IGZ1bmN0aW9uIChrZXksIGRhdGEsIF9jYWxsYmFja1MsIF9jYWxsYmFja0UsIGNvbmZpZykgewogIGRhdGFbJ3RrJ10gPSBVdGlscy5nZXRDb29raWUoJ3RrJyk7CiAgZGF0YVsnbGMnXSA9IFV0aWxzLmdldENvb2tpZSgnbGMnKTsKICBheGlvcy5wb3N0KCcvYXBpLycgKyBrZXksIGRhdGEsIGNvbmZpZyB8fCB7fSkudGhlbihmdW5jdGlvbiAocnN0KSB7CiAgICBpZiAocnN0LmRhdGEuZXJyb3IpIHsKICAgICAgYWxlcnQocnN0LmRhdGEubWVzc2FnZSk7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBpZiAoX2NhbGxiYWNrUykgX2NhbGxiYWNrUyhyc3QuZGF0YSk7CiAgfSkuY2F0Y2goZnVuY3Rpb24gKHJzdCkgewogICAgaWYgKF9jYWxsYmFja0UpIF9jYWxsYmFja0UocnN0KTsKICB9KTsKfTsKClV0aWxzLmFqYXhEYXRhID0gZnVuY3Rpb24gKGtleSwgZGF0YSwgX2NhbGxiYWNrUywgX2NhbGxiYWNrRSkgewogIGRhdGFbJ3RrJ10gPSBVdGlscy5nZXRDb29raWUoJ3RrJyk7CiAgZGF0YVsnbGMnXSA9IFV0aWxzLmdldENvb2tpZSgnbGMnKTsKICBheGlvcy5nZXQoJy9hcGkvJyArIGtleSwgewogICAgcGFyYW1zOiBkYXRhCiAgfSkudGhlbihmdW5jdGlvbiAocnN0KSB7CiAgICBpZiAocnN0LmRhdGEuZXJyb3IpIHsKICAgICAgYWxlcnQocnN0LmRhdGEubWVzc2FnZSk7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBpZiAoX2NhbGxiYWNrUykgX2NhbGxiYWNrUyhyc3QuZGF0YSk7CiAgfSkuY2F0Y2goZnVuY3Rpb24gKHJzdCkgewogICAgaWYgKF9jYWxsYmFja0UpIF9jYWxsYmFja0UocnN0KTsKICB9KTsKfTsKClV0aWxzLmxvZ2luID0gZnVuY3Rpb24gKHVzZXJuYW1lLCBwYXNzd29yZCwgY2FsbGJhY2spIHsKICBVdGlscy5wb3N0RGF0YShBUEkuTG9naW4sIHsKICAgICd1c2VybmFtZSc6IHVzZXJuYW1lIHx8ICdkYXZpZCcsCiAgICAncGFzc3dvcmQnOiBwYXNzd29yZCB8fCAnMTIzNDU2JwogIH0sIGZ1bmN0aW9uIChyZXMpIHsKICAgIGlmIChyZXMuZXJyb3IpIHJldHVybjsKICAgIFV0aWxzLnNldENvb2tpZSgidGsiLCByZXMuZGF0YS50ayk7CiAgICBVdGlscy5zZXRDb29raWUoImxjIiwgcmVzLmRhdGEubGMpOwogICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjaygpOwogIH0pOwp9OyAvLyDlnLDlm77ljLrln5/lkI3np7DmmKDlsITooagKLy8geydjaGluYSc6IHsnNTEwMDAwJzogJyd9LCAnNTEwMDAwJzoge319CgoKVXRpbHMuTmFtZXMgPSB7fTsKClV0aWxzLmZvcm1hdFJlZ2lvbiA9IGZ1bmN0aW9uIChtYXBOYW1lLCBkYXRhKSB7CiAgdmFyIG1hcERhdGEgPSBlY2hhcnRzLmdldE1hcChtYXBOYW1lKTsKICBpZiAoIW1hcERhdGEpIHJldHVybjsKICB2YXIgbmFtZXMgPSBVdGlscy5OYW1lc1ttYXBOYW1lXTsgLy8gY29uc29sZS5sb2cobmFtZXMpOwoKICByZXR1cm4gZGF0YS5tYXAoZnVuY3Rpb24gKGQpIHsKICAgIHJldHVybiB7CiAgICAgIG5hbWU6IG5hbWVzW2RbMF1dLAogICAgICB2YWx1ZTogZFsxXSwKICAgICAgY29kZTogZFswXSwKICAgICAgdGFnczogZC5zbGljZSgyKQogICAgfTsKICB9KTsKfTsKClV0aWxzLnJlcGxhY2VBbGwgPSBmdW5jdGlvbiAoc3RyLCBzcmMsIHRhcikgewogIHJldHVybiBzdHIucmVwbGFjZShuZXcgUmVnRXhwKHNyYywgImdtIiksIHRhcik7Cn07CgpVdGlscy5yZWdpc3Rlck1hcCA9IGZ1bmN0aW9uIChtYXBOYW1lLCBnZW9Kc29uKSB7CiAgZ2VvSnNvbiA9IEpTT04ucGFyc2UoZ2VvSnNvbik7CiAgZWNoYXJ0cy5yZWdpc3Rlck1hcChtYXBOYW1lLCBnZW9Kc29uKTsgLy8g57yT5a2Y5Zyw5Zu+5Yy65Z+f5ZCN56ew5pig5bCE6KGoCgogIFV0aWxzLk5hbWVzW21hcE5hbWVdID0gZ2VvSnNvbi5mZWF0dXJlcy5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsKICAgIGFbYi5pZC50b1N0cmluZygpXSA9IGIucHJvcGVydGllcy5uYW1lOwogICAgcmV0dXJuIGE7CiAgfSwge30pOwp9OwoKVXRpbHMuZHJhd0dyYXBoID0gZnVuY3Rpb24gKG9wdGlvbiwgaWQpIHsKICB2YXIgbXlDaGFydCA9IGVjaGFydHMuaW5pdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkpOwogIG15Q2hhcnQuc2V0T3B0aW9uKG9wdGlvbik7CiAgcmV0dXJuIG15Q2hhcnQ7Cn07CgpVdGlscy5kcmF3ID0gZnVuY3Rpb24gKGNoYXJ0LCBpZCkgewogIGNoYXJ0Lmluc3RhbmNlID0gVXRpbHMuZHJhd0dyYXBoKGNoYXJ0Lm9wdGlvbiwgaWQpOwogIHJldHVybiBjaGFydC5pbnN0YW5jZTsKfTsKClV0aWxzLmdldERldmljZSA9IGZ1bmN0aW9uICgpIHsKICB2YXIgdyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRXaWR0aCB8fCBkb2N1bWVudC5ib2R5Lm9mZnNldFdpZHRoOwogIGlmICh3IDwgNzY4KSByZXR1cm4gJ3hzJzsKICByZXR1cm4gdyA8IDEwNjQgPyAnc20nIDogdyA8IDEyMDAgPyAnbWQnIDogJ2xnJzsgLy8gOTkyCn07CgpVdGlscy5sYXN0ID0gZnVuY3Rpb24gKGFyeSkgewogIHJldHVybiBhcnlbYXJ5Lmxlbmd0aCAtIDFdOwp9OwoKVXRpbHMuaW50ZXJwb2xhdGVDb2xvciA9IGZ1bmN0aW9uIChjb2xvcnMsIG1pblZhbHVlLCBtYXhWYWx1ZSkgewogIGlmIChtYXhWYWx1ZSA9PSB1bmRlZmluZWQpIHsKICAgIHZhciBfcmVmID0gW21pblZhbHVlLCAwXTsKICAgIG1heFZhbHVlID0gX3JlZlswXTsKICAgIG1pblZhbHVlID0gX3JlZlsxXTsKICB9CgogIHZhciBkaWZmID0gbWF4VmFsdWUgLSBtaW5WYWx1ZSwKICAgICAgbGVuID0gMSAvIChjb2xvcnMubGVuZ3RoIC0gMSk7CiAgdmFyIHJuZ3MgPSBbXTsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2xvcnMubGVuZ3RoIC0gMTsgaSsrKSB7CiAgICBybmdzLnB1c2goZDMuaW50ZXJwb2xhdGVMYWIoY29sb3JzW2ldLCBjb2xvcnNbaSArIDFdKSk7CiAgfQoKICB0aGlzLmNvbXB1dGUgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgIGlmICh2YWx1ZSA+PSBtYXhWYWx1ZSkgcmV0dXJuIHJuZ3Nbcm5ncy5sZW5ndGggLSAxXSgxKTsKICAgIHZhciBwID0gKHZhbHVlIC0gbWluVmFsdWUpIC8gZGlmZjsKICAgIHZhciBpZHggPSBwYXJzZUludChwIC8gbGVuKTsKICAgIHZhciBwMiA9IChwIC0gaWR4ICogbGVuKSAvIGxlbjsKICAgIHZhciBybmcgPSBybmdzW2lkeF07CiAgICByZXR1cm4gcm5nKHAyKTsKICB9Owp9OwoKVXRpbHMuQ29sb3JzID0gWycjRjU1MjUzJywgJyNGRjk2MUUnLCAnIzY2NjY2YycsICcjMTc4QjUwJ107CmV4cG9ydCB7IFV0aWxzIH07"},{"version":3,"sources":["C:/Users/Meng Yin/Desktop/COVID-19-Visualization-master/www/src/js/utils.js"],"names":["axios","API","echarts","d3","Utils","setCookie","name","value","hour","exp","Date","setTime","getTime","document","cookie","escape","toUTCString","getCookie","dftValue","undefined","reg","RegExp","arr","match","unescape","postData","key","data","_callbackS","_callbackE","config","post","then","rst","error","alert","message","catch","ajaxData","get","params","login","username","password","callback","Login","res","tk","lc","Names","formatRegion","mapName","mapData","getMap","names","map","d","code","tags","slice","replaceAll","str","src","tar","replace","registerMap","geoJson","JSON","parse","features","reduce","a","b","id","toString","properties","drawGraph","option","myChart","init","getElementById","setOption","draw","chart","instance","getDevice","w","documentElement","offsetWidth","body","last","ary","length","interpolateColor","colors","minValue","maxValue","diff","len","rngs","i","push","interpolateLab","compute","p","idx","parseInt","p2","rng","Colors"],"mappings":"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","sourcesContent":["import axios from 'axios';\n// import Qs from 'qs';\nimport {API} from \"./server\"\nimport echarts from 'echarts'\nimport * as d3 from 'd3-interpolate';\n\nlet Utils = {};\n\n\nUtils.setCookie = function (name, value, hour) {\n  hour = hour || 200;\n  let exp = new Date();\n  exp.setTime(exp.getTime() + hour * 3600 * 1000);\n  document.cookie = name + '=' + escape(value) + ';expires=' + exp.toUTCString();\n};\n\nUtils.getCookie = function (name, dftValue) {\n  if (dftValue === undefined) dftValue = null;\n  let reg = new RegExp('(^| )' + name + '=([^;]*)(;|$)');\n  let arr = document.cookie.match(reg);\n  return (arr) ? unescape(arr[2]) : dftValue;\n};\n\nUtils.postData = function (key, data, _callbackS, _callbackE, config) {\n  data['tk'] = Utils.getCookie('tk');\n  data['lc'] = Utils.getCookie('lc');\n  axios.post('/api/' + key, data, config || {})\n    .then(function (rst) {\n      if (rst.data.error) {\n        alert(rst.data.message);\n        return;\n      }\n      if (_callbackS)_callbackS(rst.data);\n    })\n    .catch(function (rst) {\n      if (_callbackE) _callbackE(rst);\n    });\n};\n\nUtils.ajaxData = function (key, data, _callbackS, _callbackE) {\n  data['tk'] = Utils.getCookie('tk');\n  data['lc'] = Utils.getCookie('lc');\n  axios.get('/api/' + key, {params: data})\n    .then(function (rst) {\n      if (rst.data.error) {\n        alert(rst.data.message);\n        return;\n      }\n      if (_callbackS)_callbackS(rst.data);\n    })\n    .catch(function (rst) {\n      if (_callbackE) _callbackE(rst);\n    });\n};\n\nUtils.login = function (username, password, callback) {\n  Utils.postData(API.Login, {'username': username || 'david', 'password': password || '123456'}, function (res) {\n    if (res.error) return;\n    Utils.setCookie(\"tk\", res.data.tk);\n    Utils.setCookie(\"lc\", res.data.lc);\n    if (callback) callback();\n  });\n};\n\n// 地图区域名称映射表\n// {'china': {'510000': ''}, '510000': {}}\nUtils.Names = {};\nUtils.formatRegion = function (mapName, data) {\n  let mapData = echarts.getMap(mapName);\n  if (!mapData) return;\n  let names = Utils.Names[mapName];\n\n  // console.log(names);\n  return data.map(d => ({\n    name: names[d[0]], value: d[1], code: d[0], tags: d.slice(2)\n  }));\n};\n\nUtils.replaceAll = function (str, src, tar) {\n  return str.replace(new RegExp(src, \"gm\"), tar);  \n}\n\nUtils.registerMap = function (mapName, geoJson) {\n  geoJson = JSON.parse(geoJson);\n  echarts.registerMap(mapName, geoJson);\n  \n  // 缓存地图区域名称映射表\n  Utils.Names[mapName] = geoJson.features.reduce((a, b) => {\n      a[b.id.toString()] = b.properties.name;\n      return a;\n  }, {});\n};\n\nUtils.drawGraph = function (option, id) {\n  let myChart = echarts.init(document.getElementById(id));\n  myChart.setOption(option);\n  return myChart;\n};\n\nUtils.draw = function (chart, id) {\n  chart.instance = Utils.drawGraph(chart.option, id);\n  return chart.instance;\n};\n\nUtils.getDevice = function () {\n  let w = document.documentElement.offsetWidth || document.body.offsetWidth;\n  if (w < 768) return 'xs'; \n  return (w < 1064) ? 'sm' : (w < 1200 ? 'md' : 'lg'); // 992\n}\n\nUtils.last = function (ary) {\n  return ary[ary.length - 1];\n}\n\nUtils.interpolateColor = function (colors, minValue, maxValue) {\n  if (maxValue == undefined) [maxValue, minValue] = [minValue, 0];\n  let [diff, len] = [maxValue - minValue, 1 / (colors.length - 1)]; \n  let rngs = [];\n  for (let i = 0; i < colors.length - 1; i++) \n    rngs.push(d3.interpolateLab(colors[i], colors[i + 1]));\n\n  this.compute = function (value) {\n    if (value >= maxValue) return rngs[rngs.length - 1](1);\n    let p = (value - minValue) / diff;\n    let idx = parseInt(p / len);\n    let p2 = (p - idx * len) / len;\n    let rng = rngs[idx];\n    return rng(p2);\n  }\n};\n\nUtils.Colors = ['#F55253', '#FF961E', '#66666c', '#178B50'];\n\n\nexport {Utils};\n"]}]}