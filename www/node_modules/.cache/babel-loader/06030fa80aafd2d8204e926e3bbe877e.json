{"remainingRequest":"C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization-master\\www\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization-master\\www\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization-master\\www\\src\\js\\libs\\EffectComposer.js","dependencies":[{"path":"C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization-master\\www\\src\\js\\libs\\EffectComposer.js","mtime":1584631036000},{"path":"C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization-master\\www\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization-master\\www\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization-master\\www\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CgovKiBlc2xpbnQtZGlzYWJsZSAqLwoKLyoqCiAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vCiAqLwppbXBvcnQgKiBhcyBUSFJFRSBmcm9tICJ0aHJlZSI7CgpUSFJFRS5FZmZlY3RDb21wb3NlciA9IGZ1bmN0aW9uIChyZW5kZXJlciwgcmVuZGVyVGFyZ2V0KSB7CiAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyOwoKICBpZiAocmVuZGVyVGFyZ2V0ID09PSB1bmRlZmluZWQpIHsKICAgIHZhciBwYXJhbWV0ZXJzID0gewogICAgICBtaW5GaWx0ZXI6IFRIUkVFLkxpbmVhckZpbHRlciwKICAgICAgbWFnRmlsdGVyOiBUSFJFRS5MaW5lYXJGaWx0ZXIsCiAgICAgIGZvcm1hdDogVEhSRUUuUkdCQUZvcm1hdCwKICAgICAgc3RlbmNpbEJ1ZmZlcjogZmFsc2UKICAgIH07CiAgICB2YXIgc2l6ZSA9IHJlbmRlcmVyLmdldERyYXdpbmdCdWZmZXJTaXplKG5ldyBUSFJFRS5WZWN0b3IyKCkpOwogICAgcmVuZGVyVGFyZ2V0ID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0KHNpemUud2lkdGgsIHNpemUuaGVpZ2h0LCBwYXJhbWV0ZXJzKTsKICAgIHJlbmRlclRhcmdldC50ZXh0dXJlLm5hbWUgPSAnRWZmZWN0Q29tcG9zZXIucnQxJzsKICB9CgogIHRoaXMucmVuZGVyVGFyZ2V0MSA9IHJlbmRlclRhcmdldDsKICB0aGlzLnJlbmRlclRhcmdldDIgPSByZW5kZXJUYXJnZXQuY2xvbmUoKTsKICB0aGlzLnJlbmRlclRhcmdldDIudGV4dHVyZS5uYW1lID0gJ0VmZmVjdENvbXBvc2VyLnJ0Mic7CiAgdGhpcy53cml0ZUJ1ZmZlciA9IHRoaXMucmVuZGVyVGFyZ2V0MTsKICB0aGlzLnJlYWRCdWZmZXIgPSB0aGlzLnJlbmRlclRhcmdldDI7CiAgdGhpcy5yZW5kZXJUb1NjcmVlbiA9IHRydWU7CiAgdGhpcy5wYXNzZXMgPSBbXTsgLy8gZGVwZW5kZW5jaWVzCgogIGlmIChUSFJFRS5Db3B5U2hhZGVyID09PSB1bmRlZmluZWQpIHsKICAgIGNvbnNvbGUuZXJyb3IoJ1RIUkVFLkVmZmVjdENvbXBvc2VyIHJlbGllcyBvbiBUSFJFRS5Db3B5U2hhZGVyJyk7CiAgfQoKICBpZiAoVEhSRUUuU2hhZGVyUGFzcyA9PT0gdW5kZWZpbmVkKSB7CiAgICBjb25zb2xlLmVycm9yKCdUSFJFRS5FZmZlY3RDb21wb3NlciByZWxpZXMgb24gVEhSRUUuU2hhZGVyUGFzcycpOwogIH0KCiAgdGhpcy5jb3B5UGFzcyA9IG5ldyBUSFJFRS5TaGFkZXJQYXNzKFRIUkVFLkNvcHlTaGFkZXIpOwogIHRoaXMuX3ByZXZpb3VzRnJhbWVUaW1lID0gRGF0ZS5ub3coKTsKfTsKCk9iamVjdC5hc3NpZ24oVEhSRUUuRWZmZWN0Q29tcG9zZXIucHJvdG90eXBlLCB7CiAgc3dhcEJ1ZmZlcnM6IGZ1bmN0aW9uIHN3YXBCdWZmZXJzKCkgewogICAgdmFyIHRtcCA9IHRoaXMucmVhZEJ1ZmZlcjsKICAgIHRoaXMucmVhZEJ1ZmZlciA9IHRoaXMud3JpdGVCdWZmZXI7CiAgICB0aGlzLndyaXRlQnVmZmVyID0gdG1wOwogIH0sCiAgYWRkUGFzczogZnVuY3Rpb24gYWRkUGFzcyhwYXNzKSB7CiAgICB0aGlzLnBhc3Nlcy5wdXNoKHBhc3MpOwogICAgdmFyIHNpemUgPSB0aGlzLnJlbmRlcmVyLmdldERyYXdpbmdCdWZmZXJTaXplKG5ldyBUSFJFRS5WZWN0b3IyKCkpOwogICAgcGFzcy5zZXRTaXplKHNpemUud2lkdGgsIHNpemUuaGVpZ2h0KTsKICB9LAogIGluc2VydFBhc3M6IGZ1bmN0aW9uIGluc2VydFBhc3MocGFzcywgaW5kZXgpIHsKICAgIHRoaXMucGFzc2VzLnNwbGljZShpbmRleCwgMCwgcGFzcyk7CiAgfSwKICBpc0xhc3RFbmFibGVkUGFzczogZnVuY3Rpb24gaXNMYXN0RW5hYmxlZFBhc3MocGFzc0luZGV4KSB7CiAgICBmb3IgKHZhciBpID0gcGFzc0luZGV4ICsgMTsgaSA8IHRoaXMucGFzc2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGlmICh0aGlzLnBhc3Nlc1tpXS5lbmFibGVkKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHRydWU7CiAgfSwKICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihkZWx0YVRpbWUpIHsKICAgIC8vIGRlbHRhVGltZSB2YWx1ZSBpcyBpbiBzZWNvbmRzCiAgICBpZiAoZGVsdGFUaW1lID09PSB1bmRlZmluZWQpIHsKICAgICAgZGVsdGFUaW1lID0gKERhdGUubm93KCkgLSB0aGlzLl9wcmV2aW91c0ZyYW1lVGltZSkgKiAwLjAwMTsKICAgIH0KCiAgICB0aGlzLl9wcmV2aW91c0ZyYW1lVGltZSA9IERhdGUubm93KCk7CiAgICB2YXIgY3VycmVudFJlbmRlclRhcmdldCA9IHRoaXMucmVuZGVyZXIuZ2V0UmVuZGVyVGFyZ2V0KCk7CiAgICB2YXIgbWFza0FjdGl2ZSA9IGZhbHNlOwogICAgdmFyIHBhc3MsCiAgICAgICAgaSwKICAgICAgICBpbCA9IHRoaXMucGFzc2VzLmxlbmd0aDsKCiAgICBmb3IgKGkgPSAwOyBpIDwgaWw7IGkrKykgewogICAgICBwYXNzID0gdGhpcy5wYXNzZXNbaV07CiAgICAgIGlmIChwYXNzLmVuYWJsZWQgPT09IGZhbHNlKSBjb250aW51ZTsKICAgICAgcGFzcy5yZW5kZXJUb1NjcmVlbiA9IHRoaXMucmVuZGVyVG9TY3JlZW4gJiYgdGhpcy5pc0xhc3RFbmFibGVkUGFzcyhpKTsKICAgICAgcGFzcy5yZW5kZXIodGhpcy5yZW5kZXJlciwgdGhpcy53cml0ZUJ1ZmZlciwgdGhpcy5yZWFkQnVmZmVyLCBkZWx0YVRpbWUsIG1hc2tBY3RpdmUpOwoKICAgICAgaWYgKHBhc3MubmVlZHNTd2FwKSB7CiAgICAgICAgaWYgKG1hc2tBY3RpdmUpIHsKICAgICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5yZW5kZXJlci5jb250ZXh0OwogICAgICAgICAgY29udGV4dC5zdGVuY2lsRnVuYyhjb250ZXh0Lk5PVEVRVUFMLCAxLCAweGZmZmZmZmZmKTsKICAgICAgICAgIHRoaXMuY29weVBhc3MucmVuZGVyKHRoaXMucmVuZGVyZXIsIHRoaXMud3JpdGVCdWZmZXIsIHRoaXMucmVhZEJ1ZmZlciwgZGVsdGFUaW1lKTsKICAgICAgICAgIGNvbnRleHQuc3RlbmNpbEZ1bmMoY29udGV4dC5FUVVBTCwgMSwgMHhmZmZmZmZmZik7CiAgICAgICAgfQoKICAgICAgICB0aGlzLnN3YXBCdWZmZXJzKCk7CiAgICAgIH0KCiAgICAgIGlmIChUSFJFRS5NYXNrUGFzcyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgaWYgKHBhc3MgaW5zdGFuY2VvZiBUSFJFRS5NYXNrUGFzcykgewogICAgICAgICAgbWFza0FjdGl2ZSA9IHRydWU7CiAgICAgICAgfSBlbHNlIGlmIChwYXNzIGluc3RhbmNlb2YgVEhSRUUuQ2xlYXJNYXNrUGFzcykgewogICAgICAgICAgbWFza0FjdGl2ZSA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHRoaXMucmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KGN1cnJlbnRSZW5kZXJUYXJnZXQpOwogIH0sCiAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KHJlbmRlclRhcmdldCkgewogICAgaWYgKHJlbmRlclRhcmdldCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHZhciBzaXplID0gdGhpcy5yZW5kZXJlci5nZXREcmF3aW5nQnVmZmVyU2l6ZShuZXcgVEhSRUUuVmVjdG9yMigpKTsKICAgICAgcmVuZGVyVGFyZ2V0ID0gdGhpcy5yZW5kZXJUYXJnZXQxLmNsb25lKCk7CiAgICAgIHJlbmRlclRhcmdldC5zZXRTaXplKHNpemUud2lkdGgsIHNpemUuaGVpZ2h0KTsKICAgIH0KCiAgICB0aGlzLnJlbmRlclRhcmdldDEuZGlzcG9zZSgpOwogICAgdGhpcy5yZW5kZXJUYXJnZXQyLmRpc3Bvc2UoKTsKICAgIHRoaXMucmVuZGVyVGFyZ2V0MSA9IHJlbmRlclRhcmdldDsKICAgIHRoaXMucmVuZGVyVGFyZ2V0MiA9IHJlbmRlclRhcmdldC5jbG9uZSgpOwogICAgdGhpcy53cml0ZUJ1ZmZlciA9IHRoaXMucmVuZGVyVGFyZ2V0MTsKICAgIHRoaXMucmVhZEJ1ZmZlciA9IHRoaXMucmVuZGVyVGFyZ2V0MjsKICB9LAogIHNldFNpemU6IGZ1bmN0aW9uIHNldFNpemUod2lkdGgsIGhlaWdodCkgewogICAgdGhpcy5yZW5kZXJUYXJnZXQxLnNldFNpemUod2lkdGgsIGhlaWdodCk7CiAgICB0aGlzLnJlbmRlclRhcmdldDIuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucGFzc2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHRoaXMucGFzc2VzW2ldLnNldFNpemUod2lkdGgsIGhlaWdodCk7CiAgICB9CiAgfQp9KTsKClRIUkVFLlBhc3MgPSBmdW5jdGlvbiAoKSB7CiAgLy8gaWYgc2V0IHRvIHRydWUsIHRoZSBwYXNzIGlzIHByb2Nlc3NlZCBieSB0aGUgY29tcG9zZXIKICB0aGlzLmVuYWJsZWQgPSB0cnVlOyAvLyBpZiBzZXQgdG8gdHJ1ZSwgdGhlIHBhc3MgaW5kaWNhdGVzIHRvIHN3YXAgcmVhZCBhbmQgd3JpdGUgYnVmZmVyIGFmdGVyIHJlbmRlcmluZwoKICB0aGlzLm5lZWRzU3dhcCA9IHRydWU7IC8vIGlmIHNldCB0byB0cnVlLCB0aGUgcGFzcyBjbGVhcnMgaXRzIGJ1ZmZlciBiZWZvcmUgcmVuZGVyaW5nCgogIHRoaXMuY2xlYXIgPSBmYWxzZTsgLy8gaWYgc2V0IHRvIHRydWUsIHRoZSByZXN1bHQgb2YgdGhlIHBhc3MgaXMgcmVuZGVyZWQgdG8gc2NyZWVuLiBUaGlzIGlzIHNldCBhdXRvbWF0aWNhbGx5IGJ5IEVmZmVjdENvbXBvc2VyLgoKICB0aGlzLnJlbmRlclRvU2NyZWVuID0gZmFsc2U7Cn07CgpPYmplY3QuYXNzaWduKFRIUkVFLlBhc3MucHJvdG90eXBlLCB7CiAgc2V0U2l6ZTogZnVuY3Rpb24gc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KSB7fSwKICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihyZW5kZXJlciwgd3JpdGVCdWZmZXIsIHJlYWRCdWZmZXIsIGRlbHRhVGltZSwgbWFza0FjdGl2ZSkgewogICAgY29uc29sZS5lcnJvcignVEhSRUUuUGFzczogLnJlbmRlcigpIG11c3QgYmUgaW1wbGVtZW50ZWQgaW4gZGVyaXZlZCBwYXNzLicpOwogIH0KfSk7IC8vIEhlbHBlciBmb3IgcGFzc2VzIHRoYXQgbmVlZCB0byBmaWxsIHRoZSB2aWV3cG9ydCB3aXRoIGEgc2luZ2xlIHF1YWQuCgpUSFJFRS5QYXNzLkZ1bGxTY3JlZW5RdWFkID0gZnVuY3Rpb24gKCkgewogIHZhciBjYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKC0xLCAxLCAxLCAtMSwgMCwgMSk7CiAgdmFyIGdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lQnVmZmVyR2VvbWV0cnkoMiwgMik7CgogIHZhciBGdWxsU2NyZWVuUXVhZCA9IGZ1bmN0aW9uIEZ1bGxTY3JlZW5RdWFkKG1hdGVyaWFsKSB7CiAgICB0aGlzLl9tZXNoID0gbmV3IFRIUkVFLk1lc2goZ2VvbWV0cnksIG1hdGVyaWFsKTsKICB9OwoKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnVsbFNjcmVlblF1YWQucHJvdG90eXBlLCAnbWF0ZXJpYWwnLCB7CiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX21lc2gubWF0ZXJpYWw7CiAgICB9LAogICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHsKICAgICAgdGhpcy5fbWVzaC5tYXRlcmlhbCA9IHZhbHVlOwogICAgfQogIH0pOwogIE9iamVjdC5hc3NpZ24oRnVsbFNjcmVlblF1YWQucHJvdG90eXBlLCB7CiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihyZW5kZXJlcikgewogICAgICByZW5kZXJlci5yZW5kZXIodGhpcy5fbWVzaCwgY2FtZXJhKTsKICAgIH0KICB9KTsKICByZXR1cm4gRnVsbFNjcmVlblF1YWQ7Cn0oKTsKCnZhciBQYXNzID0gVEhSRUUuUGFzczsKdmFyIEVmZmVjdENvbXBvc2VyID0gVEhSRUUuRWZmZWN0Q29tcG9zZXI7CmV4cG9ydCB7IEVmZmVjdENvbXBvc2VyLCBQYXNzIH07"},{"version":3,"sources":["C:/Users/Meng Yin/Desktop/COVID-19-Visualization-master/www/src/js/libs/EffectComposer.js"],"names":["THREE","EffectComposer","renderer","renderTarget","undefined","parameters","minFilter","LinearFilter","magFilter","format","RGBAFormat","stencilBuffer","size","getDrawingBufferSize","Vector2","WebGLRenderTarget","width","height","texture","name","renderTarget1","renderTarget2","clone","writeBuffer","readBuffer","renderToScreen","passes","CopyShader","console","error","ShaderPass","copyPass","_previousFrameTime","Date","now","Object","assign","prototype","swapBuffers","tmp","addPass","pass","push","setSize","insertPass","index","splice","isLastEnabledPass","passIndex","i","length","enabled","render","deltaTime","currentRenderTarget","getRenderTarget","maskActive","il","needsSwap","context","stencilFunc","NOTEQUAL","EQUAL","MaskPass","ClearMaskPass","setRenderTarget","reset","dispose","Pass","clear","FullScreenQuad","camera","OrthographicCamera","geometry","PlaneBufferGeometry","material","_mesh","Mesh","defineProperty","get","set","value"],"mappings":";;;AAAA;;AACA;;;AAGA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;;AAEAA,KAAK,CAACC,cAAN,GAAuB,UAAWC,QAAX,EAAqBC,YAArB,EAAoC;AAC1D,OAAKD,QAAL,GAAgBA,QAAhB;;AAEA,MAAKC,YAAY,KAAKC,SAAtB,EAAkC;AAEjC,QAAIC,UAAU,GAAG;AAChBC,MAAAA,SAAS,EAAEN,KAAK,CAACO,YADD;AAEhBC,MAAAA,SAAS,EAAER,KAAK,CAACO,YAFD;AAGhBE,MAAAA,MAAM,EAAET,KAAK,CAACU,UAHE;AAIhBC,MAAAA,aAAa,EAAE;AAJC,KAAjB;AAOA,QAAIC,IAAI,GAAGV,QAAQ,CAACW,oBAAT,CAA+B,IAAIb,KAAK,CAACc,OAAV,EAA/B,CAAX;AACAX,IAAAA,YAAY,GAAG,IAAIH,KAAK,CAACe,iBAAV,CAA6BH,IAAI,CAACI,KAAlC,EAAyCJ,IAAI,CAACK,MAA9C,EAAsDZ,UAAtD,CAAf;AACAF,IAAAA,YAAY,CAACe,OAAb,CAAqBC,IAArB,GAA4B,oBAA5B;AAEA;;AAED,OAAKC,aAAL,GAAqBjB,YAArB;AACA,OAAKkB,aAAL,GAAqBlB,YAAY,CAACmB,KAAb,EAArB;AACA,OAAKD,aAAL,CAAmBH,OAAnB,CAA2BC,IAA3B,GAAkC,oBAAlC;AAEA,OAAKI,WAAL,GAAmB,KAAKH,aAAxB;AACA,OAAKI,UAAL,GAAkB,KAAKH,aAAvB;AAEA,OAAKI,cAAL,GAAsB,IAAtB;AAEA,OAAKC,MAAL,GAAc,EAAd,CA3B0D,CA6B1D;;AAEA,MAAK1B,KAAK,CAAC2B,UAAN,KAAqBvB,SAA1B,EAAsC;AAErCwB,IAAAA,OAAO,CAACC,KAAR,CAAe,iDAAf;AAEA;;AAED,MAAK7B,KAAK,CAAC8B,UAAN,KAAqB1B,SAA1B,EAAsC;AAErCwB,IAAAA,OAAO,CAACC,KAAR,CAAe,iDAAf;AAEA;;AAED,OAAKE,QAAL,GAAgB,IAAI/B,KAAK,CAAC8B,UAAV,CAAsB9B,KAAK,CAAC2B,UAA5B,CAAhB;AAEA,OAAKK,kBAAL,GAA0BC,IAAI,CAACC,GAAL,EAA1B;AAEA,CA/CD;;AAiDAC,MAAM,CAACC,MAAP,CAAepC,KAAK,CAACC,cAAN,CAAqBoC,SAApC,EAA+C;AAE9CC,EAAAA,WAAW,EAAE,uBAAY;AAExB,QAAIC,GAAG,GAAG,KAAKf,UAAf;AACA,SAAKA,UAAL,GAAkB,KAAKD,WAAvB;AACA,SAAKA,WAAL,GAAmBgB,GAAnB;AAEA,GAR6C;AAU9CC,EAAAA,OAAO,EAAE,iBAAWC,IAAX,EAAkB;AAE1B,SAAKf,MAAL,CAAYgB,IAAZ,CAAkBD,IAAlB;AAEA,QAAI7B,IAAI,GAAG,KAAKV,QAAL,CAAcW,oBAAd,CAAoC,IAAIb,KAAK,CAACc,OAAV,EAApC,CAAX;AACA2B,IAAAA,IAAI,CAACE,OAAL,CAAc/B,IAAI,CAACI,KAAnB,EAA0BJ,IAAI,CAACK,MAA/B;AAEA,GAjB6C;AAmB9C2B,EAAAA,UAAU,EAAE,oBAAWH,IAAX,EAAiBI,KAAjB,EAAyB;AAEpC,SAAKnB,MAAL,CAAYoB,MAAZ,CAAoBD,KAApB,EAA2B,CAA3B,EAA8BJ,IAA9B;AAEA,GAvB6C;AAyB9CM,EAAAA,iBAAiB,EAAE,2BAAWC,SAAX,EAAuB;AAEzC,SAAM,IAAIC,CAAC,GAAGD,SAAS,GAAG,CAA1B,EAA6BC,CAAC,GAAG,KAAKvB,MAAL,CAAYwB,MAA7C,EAAqDD,CAAC,EAAtD,EAA4D;AAE3D,UAAK,KAAKvB,MAAL,CAAauB,CAAb,EAAiBE,OAAtB,EAAgC;AAE/B,eAAO,KAAP;AAEA;AAED;;AAED,WAAO,IAAP;AAEA,GAvC6C;AAyC9CC,EAAAA,MAAM,EAAE,gBAAWC,SAAX,EAAuB;AAE9B;AAEA,QAAKA,SAAS,KAAKjD,SAAnB,EAA+B;AAE9BiD,MAAAA,SAAS,GAAG,CAAEpB,IAAI,CAACC,GAAL,KAAa,KAAKF,kBAApB,IAA2C,KAAvD;AAEA;;AAED,SAAKA,kBAAL,GAA0BC,IAAI,CAACC,GAAL,EAA1B;AAEA,QAAIoB,mBAAmB,GAAG,KAAKpD,QAAL,CAAcqD,eAAd,EAA1B;AAEA,QAAIC,UAAU,GAAG,KAAjB;AAEA,QAAIf,IAAJ;AAAA,QAAUQ,CAAV;AAAA,QAAaQ,EAAE,GAAG,KAAK/B,MAAL,CAAYwB,MAA9B;;AAEA,SAAMD,CAAC,GAAG,CAAV,EAAaA,CAAC,GAAGQ,EAAjB,EAAqBR,CAAC,EAAtB,EAA4B;AAE3BR,MAAAA,IAAI,GAAG,KAAKf,MAAL,CAAauB,CAAb,CAAP;AAEA,UAAKR,IAAI,CAACU,OAAL,KAAiB,KAAtB,EAA8B;AAE9BV,MAAAA,IAAI,CAAChB,cAAL,GAAwB,KAAKA,cAAL,IAAuB,KAAKsB,iBAAL,CAAwBE,CAAxB,CAA/C;AACAR,MAAAA,IAAI,CAACW,MAAL,CAAa,KAAKlD,QAAlB,EAA4B,KAAKqB,WAAjC,EAA8C,KAAKC,UAAnD,EAA+D6B,SAA/D,EAA0EG,UAA1E;;AAEA,UAAKf,IAAI,CAACiB,SAAV,EAAsB;AAErB,YAAKF,UAAL,EAAkB;AAEjB,cAAIG,OAAO,GAAG,KAAKzD,QAAL,CAAcyD,OAA5B;AAEAA,UAAAA,OAAO,CAACC,WAAR,CAAqBD,OAAO,CAACE,QAA7B,EAAuC,CAAvC,EAA0C,UAA1C;AAEA,eAAK9B,QAAL,CAAcqB,MAAd,CAAsB,KAAKlD,QAA3B,EAAqC,KAAKqB,WAA1C,EAAuD,KAAKC,UAA5D,EAAwE6B,SAAxE;AAEAM,UAAAA,OAAO,CAACC,WAAR,CAAqBD,OAAO,CAACG,KAA7B,EAAoC,CAApC,EAAuC,UAAvC;AAEA;;AAED,aAAKxB,WAAL;AAEA;;AAED,UAAKtC,KAAK,CAAC+D,QAAN,KAAmB3D,SAAxB,EAAoC;AAEnC,YAAKqC,IAAI,YAAYzC,KAAK,CAAC+D,QAA3B,EAAsC;AAErCP,UAAAA,UAAU,GAAG,IAAb;AAEA,SAJD,MAIO,IAAKf,IAAI,YAAYzC,KAAK,CAACgE,aAA3B,EAA2C;AAEjDR,UAAAA,UAAU,GAAG,KAAb;AAEA;AAED;AAED;;AAED,SAAKtD,QAAL,CAAc+D,eAAd,CAA+BX,mBAA/B;AAEA,GAxG6C;AA0G9CY,EAAAA,KAAK,EAAE,eAAW/D,YAAX,EAA0B;AAEhC,QAAKA,YAAY,KAAKC,SAAtB,EAAkC;AAEjC,UAAIQ,IAAI,GAAG,KAAKV,QAAL,CAAcW,oBAAd,CAAoC,IAAIb,KAAK,CAACc,OAAV,EAApC,CAAX;AAEAX,MAAAA,YAAY,GAAG,KAAKiB,aAAL,CAAmBE,KAAnB,EAAf;AACAnB,MAAAA,YAAY,CAACwC,OAAb,CAAsB/B,IAAI,CAACI,KAA3B,EAAkCJ,IAAI,CAACK,MAAvC;AAEA;;AAED,SAAKG,aAAL,CAAmB+C,OAAnB;AACA,SAAK9C,aAAL,CAAmB8C,OAAnB;AACA,SAAK/C,aAAL,GAAqBjB,YAArB;AACA,SAAKkB,aAAL,GAAqBlB,YAAY,CAACmB,KAAb,EAArB;AAEA,SAAKC,WAAL,GAAmB,KAAKH,aAAxB;AACA,SAAKI,UAAL,GAAkB,KAAKH,aAAvB;AAEA,GA7H6C;AA+H9CsB,EAAAA,OAAO,EAAE,iBAAW3B,KAAX,EAAkBC,MAAlB,EAA2B;AAEnC,SAAKG,aAAL,CAAmBuB,OAAnB,CAA4B3B,KAA5B,EAAmCC,MAAnC;AACA,SAAKI,aAAL,CAAmBsB,OAAnB,CAA4B3B,KAA5B,EAAmCC,MAAnC;;AAEA,SAAM,IAAIgC,CAAC,GAAG,CAAd,EAAiBA,CAAC,GAAG,KAAKvB,MAAL,CAAYwB,MAAjC,EAAyCD,CAAC,EAA1C,EAAgD;AAE/C,WAAKvB,MAAL,CAAauB,CAAb,EAAiBN,OAAjB,CAA0B3B,KAA1B,EAAiCC,MAAjC;AAEA;AAED;AA1I6C,CAA/C;;AA+IAjB,KAAK,CAACoE,IAAN,GAAa,YAAY;AAExB;AACA,OAAKjB,OAAL,GAAe,IAAf,CAHwB,CAKxB;;AACA,OAAKO,SAAL,GAAiB,IAAjB,CANwB,CAQxB;;AACA,OAAKW,KAAL,GAAa,KAAb,CATwB,CAWxB;;AACA,OAAK5C,cAAL,GAAsB,KAAtB;AAEA,CAdD;;AAgBAU,MAAM,CAACC,MAAP,CAAepC,KAAK,CAACoE,IAAN,CAAW/B,SAA1B,EAAqC;AAEpCM,EAAAA,OAAO,EAAE,iBAAW3B,KAAX,EAAkBC,MAAlB,EAA2B,CAAE,CAFF;AAIpCmC,EAAAA,MAAM,EAAE,gBAAWlD,QAAX,EAAqBqB,WAArB,EAAkCC,UAAlC,EAA8C6B,SAA9C,EAAyDG,UAAzD,EAAsE;AAE7E5B,IAAAA,OAAO,CAACC,KAAR,CAAe,4DAAf;AAEA;AARmC,CAArC,E,CAYA;;AACA7B,KAAK,CAACoE,IAAN,CAAWE,cAAX,GAA8B,YAAY;AAEzC,MAAIC,MAAM,GAAG,IAAIvE,KAAK,CAACwE,kBAAV,CAA8B,CAAE,CAAhC,EAAmC,CAAnC,EAAsC,CAAtC,EAAyC,CAAE,CAA3C,EAA8C,CAA9C,EAAiD,CAAjD,CAAb;AACA,MAAIC,QAAQ,GAAG,IAAIzE,KAAK,CAAC0E,mBAAV,CAA+B,CAA/B,EAAkC,CAAlC,CAAf;;AAEA,MAAIJ,cAAc,GAAG,SAAjBA,cAAiB,CAAWK,QAAX,EAAsB;AAE1C,SAAKC,KAAL,GAAa,IAAI5E,KAAK,CAAC6E,IAAV,CAAgBJ,QAAhB,EAA0BE,QAA1B,CAAb;AAEA,GAJD;;AAMAxC,EAAAA,MAAM,CAAC2C,cAAP,CAAuBR,cAAc,CAACjC,SAAtC,EAAiD,UAAjD,EAA6D;AAE5D0C,IAAAA,GAAG,EAAE,eAAY;AAEhB,aAAO,KAAKH,KAAL,CAAWD,QAAlB;AAEA,KAN2D;AAQ5DK,IAAAA,GAAG,EAAE,aAAWC,KAAX,EAAmB;AAEvB,WAAKL,KAAL,CAAWD,QAAX,GAAsBM,KAAtB;AAEA;AAZ2D,GAA7D;AAgBA9C,EAAAA,MAAM,CAACC,MAAP,CAAekC,cAAc,CAACjC,SAA9B,EAAyC;AAExCe,IAAAA,MAAM,EAAE,gBAAWlD,QAAX,EAAsB;AAE7BA,MAAAA,QAAQ,CAACkD,MAAT,CAAiB,KAAKwB,KAAtB,EAA6BL,MAA7B;AAEA;AANuC,GAAzC;AAUA,SAAOD,cAAP;AAEA,CAvC2B,EAA5B;;AAyCA,IAAIF,IAAI,GAAGpE,KAAK,CAACoE,IAAjB;AACA,IAAInE,cAAc,GAAGD,KAAK,CAACC,cAA3B;AAEA,SAAQA,cAAR,EAAwBmE,IAAxB","sourcesContent":["/* eslint-disable */\n/**\n * @author alteredq / http://alteredqualia.com/\n */\nimport * as THREE from \"three\";\n\nTHREE.EffectComposer = function ( renderer, renderTarget ) {\n\tthis.renderer = renderer;\n\n\tif ( renderTarget === undefined ) {\n\n\t\tvar parameters = {\n\t\t\tminFilter: THREE.LinearFilter,\n\t\t\tmagFilter: THREE.LinearFilter,\n\t\t\tformat: THREE.RGBAFormat,\n\t\t\tstencilBuffer: false\n\t\t};\n\n\t\tvar size = renderer.getDrawingBufferSize( new THREE.Vector2() );\n\t\trenderTarget = new THREE.WebGLRenderTarget( size.width, size.height, parameters );\n\t\trenderTarget.texture.name = 'EffectComposer.rt1';\n\n\t}\n\n\tthis.renderTarget1 = renderTarget;\n\tthis.renderTarget2 = renderTarget.clone();\n\tthis.renderTarget2.texture.name = 'EffectComposer.rt2';\n\n\tthis.writeBuffer = this.renderTarget1;\n\tthis.readBuffer = this.renderTarget2;\n\n\tthis.renderToScreen = true;\n\n\tthis.passes = [];\n\n\t// dependencies\n\n\tif ( THREE.CopyShader === undefined ) {\n\n\t\tconsole.error( 'THREE.EffectComposer relies on THREE.CopyShader' );\n\n\t}\n\n\tif ( THREE.ShaderPass === undefined ) {\n\n\t\tconsole.error( 'THREE.EffectComposer relies on THREE.ShaderPass' );\n\n\t}\n\n\tthis.copyPass = new THREE.ShaderPass( THREE.CopyShader );\n\n\tthis._previousFrameTime = Date.now();\n\n};\n\nObject.assign( THREE.EffectComposer.prototype, {\n\n\tswapBuffers: function () {\n\n\t\tvar tmp = this.readBuffer;\n\t\tthis.readBuffer = this.writeBuffer;\n\t\tthis.writeBuffer = tmp;\n\n\t},\n\n\taddPass: function ( pass ) {\n\n\t\tthis.passes.push( pass );\n\n\t\tvar size = this.renderer.getDrawingBufferSize( new THREE.Vector2() );\n\t\tpass.setSize( size.width, size.height );\n\n\t},\n\n\tinsertPass: function ( pass, index ) {\n\n\t\tthis.passes.splice( index, 0, pass );\n\n\t},\n\n\tisLastEnabledPass: function ( passIndex ) {\n\n\t\tfor ( var i = passIndex + 1; i < this.passes.length; i ++ ) {\n\n\t\t\tif ( this.passes[ i ].enabled ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\trender: function ( deltaTime ) {\n\n\t\t// deltaTime value is in seconds\n\n\t\tif ( deltaTime === undefined ) {\n\n\t\t\tdeltaTime = ( Date.now() - this._previousFrameTime ) * 0.001;\n\n\t\t}\n\n\t\tthis._previousFrameTime = Date.now();\n\n\t\tvar currentRenderTarget = this.renderer.getRenderTarget();\n\n\t\tvar maskActive = false;\n\n\t\tvar pass, i, il = this.passes.length;\n\n\t\tfor ( i = 0; i < il; i ++ ) {\n\n\t\t\tpass = this.passes[ i ];\n\n\t\t\tif ( pass.enabled === false ) continue;\n\n\t\t\tpass.renderToScreen = ( this.renderToScreen && this.isLastEnabledPass( i ) );\n\t\t\tpass.render( this.renderer, this.writeBuffer, this.readBuffer, deltaTime, maskActive );\n\n\t\t\tif ( pass.needsSwap ) {\n\n\t\t\t\tif ( maskActive ) {\n\n\t\t\t\t\tvar context = this.renderer.context;\n\n\t\t\t\t\tcontext.stencilFunc( context.NOTEQUAL, 1, 0xffffffff );\n\n\t\t\t\t\tthis.copyPass.render( this.renderer, this.writeBuffer, this.readBuffer, deltaTime );\n\n\t\t\t\t\tcontext.stencilFunc( context.EQUAL, 1, 0xffffffff );\n\n\t\t\t\t}\n\n\t\t\t\tthis.swapBuffers();\n\n\t\t\t}\n\n\t\t\tif ( THREE.MaskPass !== undefined ) {\n\n\t\t\t\tif ( pass instanceof THREE.MaskPass ) {\n\n\t\t\t\t\tmaskActive = true;\n\n\t\t\t\t} else if ( pass instanceof THREE.ClearMaskPass ) {\n\n\t\t\t\t\tmaskActive = false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.renderer.setRenderTarget( currentRenderTarget );\n\n\t},\n\n\treset: function ( renderTarget ) {\n\n\t\tif ( renderTarget === undefined ) {\n\n\t\t\tvar size = this.renderer.getDrawingBufferSize( new THREE.Vector2() );\n\n\t\t\trenderTarget = this.renderTarget1.clone();\n\t\t\trenderTarget.setSize( size.width, size.height );\n\n\t\t}\n\n\t\tthis.renderTarget1.dispose();\n\t\tthis.renderTarget2.dispose();\n\t\tthis.renderTarget1 = renderTarget;\n\t\tthis.renderTarget2 = renderTarget.clone();\n\n\t\tthis.writeBuffer = this.renderTarget1;\n\t\tthis.readBuffer = this.renderTarget2;\n\n\t},\n\n\tsetSize: function ( width, height ) {\n\n\t\tthis.renderTarget1.setSize( width, height );\n\t\tthis.renderTarget2.setSize( width, height );\n\n\t\tfor ( var i = 0; i < this.passes.length; i ++ ) {\n\n\t\t\tthis.passes[ i ].setSize( width, height );\n\n\t\t}\n\n\t}\n\n} );\n\n\nTHREE.Pass = function () {\n\n\t// if set to true, the pass is processed by the composer\n\tthis.enabled = true;\n\n\t// if set to true, the pass indicates to swap read and write buffer after rendering\n\tthis.needsSwap = true;\n\n\t// if set to true, the pass clears its buffer before rendering\n\tthis.clear = false;\n\n\t// if set to true, the result of the pass is rendered to screen. This is set automatically by EffectComposer.\n\tthis.renderToScreen = false;\n\n};\n\nObject.assign( THREE.Pass.prototype, {\n\n\tsetSize: function ( width, height ) {},\n\n\trender: function ( renderer, writeBuffer, readBuffer, deltaTime, maskActive ) {\n\n\t\tconsole.error( 'THREE.Pass: .render() must be implemented in derived pass.' );\n\n\t}\n\n} );\n\n// Helper for passes that need to fill the viewport with a single quad.\nTHREE.Pass.FullScreenQuad = ( function () {\n\n\tvar camera = new THREE.OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\n\tvar geometry = new THREE.PlaneBufferGeometry( 2, 2 );\n\n\tvar FullScreenQuad = function ( material ) {\n\n\t\tthis._mesh = new THREE.Mesh( geometry, material );\n\n\t};\n\n\tObject.defineProperty( FullScreenQuad.prototype, 'material', {\n\n\t\tget: function () {\n\n\t\t\treturn this._mesh.material;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._mesh.material = value;\n\n\t\t}\n\n\t} );\n\n\tObject.assign( FullScreenQuad.prototype, {\n\n\t\trender: function ( renderer ) {\n\n\t\t\trenderer.render( this._mesh, camera );\n\n\t\t}\n\n\t} );\n\n\treturn FullScreenQuad;\n\n} )();\n\nlet Pass = THREE.Pass;\nlet EffectComposer = THREE.EffectComposer;\n\nexport {EffectComposer, Pass};\n"]}]}