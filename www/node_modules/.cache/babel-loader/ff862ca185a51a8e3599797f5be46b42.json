{"remainingRequest":"C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization\\www\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization\\www\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization\\www\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization\\www\\src\\components\\Map.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization\\www\\src\\components\\Map.vue","mtime":1584631036000},{"path":"C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization\\www\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization\\www\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization\\www\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization\\www\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IE1hcEN0bCwgbG9hZFBvbHlnb24gfSBmcm9tICIuLi9qcy9tYXAiOwppbXBvcnQgeyBQcm92aW5jZXMgfSBmcm9tICIuLi9qcy9yZWdpb24iOwppbXBvcnQgKiBhcyBtYXB0YWxrcyBmcm9tICdtYXB0YWxrcyc7CmltcG9ydCB7IGxvYWRCdWlsZGluZyB9IGZyb20gIi4uL2pzL2J1aWxkaW5nIjsKaW1wb3J0IHsgbG9hZExpbmVzM0QgfSBmcm9tICIuLi9qcy9saW5lczNEIjsKaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuLi9qcy91dGlscyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTWFwJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWFwOiBudWxsLAogICAgICBwbGFuZUxheWVyOiBudWxsLAogICAgICBidWlsZGluZ0xheWVyOiBudWxsLAogICAgICBjdXJyZW50UHJvdmluY2U6ICI1MTAwMDAiLAogICAgICBjdXJyZW50Q2l0eTogIiIsCiAgICAgIGRhdGE6IG51bGwsCiAgICAgIG1hcHM6IFt7CiAgICAgICAgbGFiZWw6ICfluLjop4TlnLDlm74nLAogICAgICAgIG1hcDogJ0dhb2RlJywKICAgICAgICB0eXBlOiAnMCcsCiAgICAgICAgaW5kZXg6IDAKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAn5pqX6buRMi41RCcsCiAgICAgICAgbWFwOiAnR2FvZGUnLAogICAgICAgIHR5cGU6ICcxJywKICAgICAgICBpbmRleDogMQogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICczROWcuuaZrycsCiAgICAgICAgbWFwOiAnR2FvZGUnLAogICAgICAgIHR5cGU6ICcxJywKICAgICAgICBpbmRleDogMgogICAgICB9XSwKICAgICAgbWFwSW5kZXg6IDEsCiAgICAgIHByb3ZpbmNlczogT2JqZWN0LmtleXMoUHJvdmluY2VzKS5tYXAoZnVuY3Rpb24gKGspIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgY29kZTogaywKICAgICAgICAgIG5hbWU6IFByb3ZpbmNlc1trXS5uYW1lCiAgICAgICAgfTsKICAgICAgfSkKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5tYXBJbmRleCA9IHBhcnNlSW50KFV0aWxzLmdldENvb2tpZSgibWFwSW5kZXgiLCAxKSk7CiAgICB0aGlzLmluaXQoKTsKICAgIHRoaXMubG9hZFByb3ZpbmNlKHRoaXMuY3VycmVudFByb3ZpbmNlKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHZhciBtYXBDb25maWcgPSBNYXBDdGwuZ2V0Q29uZmlnKCk7CiAgICAgIHRoaXMubWFwID0gbmV3IG1hcHRhbGtzLk1hcCgnbWFwJywgbWFwQ29uZmlnKTsKICAgICAgdGhpcy5tYXAub24oJ21vdmVlbmQnLCBNYXBDdGwuaGFuZGxlTWFwTW92ZSk7CiAgICB9LAogICAgbG9hZFByb3ZpbmNlOiBmdW5jdGlvbiBsb2FkUHJvdmluY2UoY29kZSkgewogICAgICB2YXIgJHRoaXMgPSB0aGlzOwogICAgICBNYXBDdGwubG9hZERhdGEoY29kZSwgZnVuY3Rpb24gKGZlYXR1cmVzKSB7CiAgICAgICAgdmFyIGNlbnRlciA9IGNvZGUgaW4gUHJvdmluY2VzID8gUHJvdmluY2VzW2NvZGVdLmNwIDogbnVsbDsKICAgICAgICBpZiAoZmVhdHVyZXMuZmVhdHVyZXNbMF0pIGNlbnRlciA9IGZlYXR1cmVzLmZlYXR1cmVzWzBdLnByb3BlcnRpZXMuY3A7CiAgICAgICAgJHRoaXMubWFwLnNldENlbnRlcihjZW50ZXIpOwogICAgICAgICR0aGlzLm1hcC5zZXRab29tKDExKTsKICAgICAgICAkdGhpcy5kYXRhID0gZmVhdHVyZXM7CiAgICAgICAgJHRoaXMubG9hZE1hcCgkdGhpcy5tYXBJbmRleCwgZmVhdHVyZXMpOwogICAgICB9KTsKICAgIH0sCiAgICBsb2FkTWFwOiBmdW5jdGlvbiBsb2FkTWFwKGlkeCwgZmVhdHVyZXMpIHsKICAgICAgdmFyIGZ1bnMgPSBbbG9hZFBvbHlnb24sIGxvYWRCdWlsZGluZywgbG9hZExpbmVzM0RdOwogICAgICBmdW5zW2lkeF0odGhpcy5tYXAsIGZlYXR1cmVzKTsKICAgIH0sCiAgICByZXNldE1hcDogZnVuY3Rpb24gcmVzZXRNYXAoaWR4KSB7CiAgICAgIHZhciBpdGVtID0gdGhpcy5tYXBzW2lkeF07CiAgICAgIFV0aWxzLnNldENvb2tpZSgibWFwU3R5bGUiLCBbaXRlbS5tYXAsIGl0ZW0udHlwZV0uam9pbigiXyIpKTsKICAgICAgVXRpbHMuc2V0Q29va2llKCJtYXBJbmRleCIsIGlkeCk7CiAgICAgIHRoaXMubWFwLnJlbW92ZSgpOwogICAgICB0aGlzLm1hcCA9IG51bGw7CiAgICAgIHRoaXMuaW5pdCgpOwogICAgICB0aGlzLmxvYWRNYXAoaWR4LCB0aGlzLmRhdGEpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Map.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div id=\"root\">\n        <div id=\"map\" style=\"height: 100%\">地图</div>\n        <div style=\"position: fixed; right: 10px; top: 160px; width: 100px; \">\n              <el-select v-model=\"currentProvince\" size=\"small\" placeholder=\"请选择\" @change=\"loadProvince\">\n                <el-option\n                v-for=\"item in provinces\"\n                :key=\"item.code\"\n                :label=\"item.name\"\n                :value=\"item.code\">\n                </el-option>\n            </el-select>\n        </div>\n\n        <div style=\"position: fixed; right: 10px; top: 120px; width: 100px\">\n              <el-select v-model=\"mapIndex\" size=\"small\" placeholder=\"请选择\" @change=\"resetMap\">\n                <el-option\n                v-for=\"item in maps\"\n                :key=\"item.index\"\n                :label=\"item.label\"\n                :value=\"item.index\">\n                </el-option>\n            </el-select>\n        </div>\n\n        <div style=\"position: fixed; right: 10px; top: 90px; font-weight: 400; font-family: 宋体;  \" class=\"blink\">\n            <router-link to=\"/china\">返回</router-link>\n        </div>\n    </div>\n    \n    \n</template>\n\n<script>\nimport {MapCtl, loadPolygon} from \"../js/map\";\nimport {Provinces} from \"../js/region\";\nimport * as maptalks from 'maptalks';\nimport {loadBuilding} from \"../js/building\";\nimport {loadLines3D} from \"../js/lines3D\";\nimport { Utils } from '../js/utils';\n\nexport default {\n    name: 'Map',\n    data () {\n        return {\n            map: null,\n            planeLayer: null,\n            buildingLayer: null,\n            currentProvince: \"510000\",\n            currentCity: \"\",\n            data: null,\n            maps: [\n                {label: '常规地图', map: 'Gaode', type: '0', index: 0}, \n                {label: '暗黑2.5D', map: 'Gaode', type: '1', index: 1}, \n                {label: '3D场景', map: 'Gaode', type: '1', index: 2}],\n            mapIndex: 1,\n            provinces: Object.keys(Provinces).map(k => ({code: k, name: Provinces[k].name}))\n        };\n    },\n    mounted () {\n        this.mapIndex = parseInt(Utils.getCookie(\"mapIndex\", 1));\n        this.init();\n        this.loadProvince(this.currentProvince);\n    },\n    methods: {\n        init () {\n            let mapConfig = MapCtl.getConfig();\n            this.map = new maptalks.Map('map', mapConfig);\n            this.map.on('moveend', MapCtl.handleMapMove);\n        },\n        loadProvince (code) {\n            let $this = this;\n            MapCtl.loadData(code, function (features) {\n                let center = (code in Provinces) ? Provinces[code].cp : null;\n                if (features.features[0]) center = features.features[0].properties.cp;\n                $this.map.setCenter(center);\n                $this.map.setZoom(11);\n                $this.data = features;\n                $this.loadMap($this.mapIndex, features);\n            });\n        },\n        loadMap (idx, features) {\n            let funs = [loadPolygon, loadBuilding, loadLines3D];\n            funs[idx](this.map, features);\n        },\n        resetMap: function (idx) {\n            let item = this.maps[idx];\n            Utils.setCookie(\"mapStyle\", [item.map, item.type].join(\"_\"));\n            Utils.setCookie(\"mapIndex\", idx);\n            this.map.remove();\n            this.map = null;\n            this.init();\n            this.loadMap(idx, this.data);\n        }\n    }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style>\n.pageHead {\n  height: 100px !important; \n  padding-top: 5px !important;\n  padding-bottom: 10px !important;\n}\n#root {\n    height: calc(100% - 115px); \n}\na{color: #dd4814}\n.el-input__inner { color: #fff; background-color: #0c2c45}\n.content{color:#fff;width:190px;height:80px;background-color:#051127;border:1px solid #0c2c45}\n.pop_title{float:left;padding-left:10px;width:180px;height:36px;line-height:36px;background:url(../assets/title.png);font-weight:bold;font-size:16px}\n.pop_dept{float:left;padding:12px 5px;line-height:15px;text-align:center;margin:0 10px}\n.pop_arrow{float:left;width:15px;height:24px;line-height:24px;background:url(../assets/arrow.png) no-repeat center center}\n.arrow{display:block;width:17px;height:10px;background:url(../assets/em.png) no-repeat;position:absolute;left:50%;margin-left:-5px;bottom:-10px}\n</style>\n"],"sourceRoot":"src/components"}]}