{"remainingRequest":"C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization\\www\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization\\www\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization\\www\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization\\www\\src\\js\\utils.js","dependencies":[{"path":"C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization\\www\\src\\js\\utils.js","mtime":1587021897791},{"path":"C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization\\www\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization\\www\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization\\www\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Meng Yin\\Desktop\\COVID-19-Visualization\\www\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5jb25zdHJ1Y3RvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgQVBJIH0gZnJvbSAiLi9zZXJ2ZXIiOwppbXBvcnQgZWNoYXJ0cyBmcm9tICdlY2hhcnRzJzsKaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMtaW50ZXJwb2xhdGUnOwp2YXIgVXRpbHMgPSB7fTsKClV0aWxzLnNldENvb2tpZSA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSwgaG91cikgewogIGhvdXIgPSBob3VyIHx8IDIwMDsKICB2YXIgZXhwID0gbmV3IERhdGUoKTsKICBleHAuc2V0VGltZShleHAuZ2V0VGltZSgpICsgaG91ciAqIDM2MDAgKiAxMDAwKTsKICBkb2N1bWVudC5jb29raWUgPSBuYW1lICsgJz0nICsgZXNjYXBlKHZhbHVlKSArICc7ZXhwaXJlcz0nICsgZXhwLnRvVVRDU3RyaW5nKCk7Cn07CgpVdGlscy5nZXRDb29raWUgPSBmdW5jdGlvbiAobmFtZSwgZGZ0VmFsdWUpIHsKICBpZiAoZGZ0VmFsdWUgPT09IHVuZGVmaW5lZCkgZGZ0VmFsdWUgPSBudWxsOwogIHZhciByZWcgPSBuZXcgUmVnRXhwKCcoXnwgKScgKyBuYW1lICsgJz0oW147XSopKDt8JCknKTsKICB2YXIgYXJyID0gZG9jdW1lbnQuY29va2llLm1hdGNoKHJlZyk7CiAgcmV0dXJuIGFyciA/IHVuZXNjYXBlKGFyclsyXSkgOiBkZnRWYWx1ZTsKfTsKClV0aWxzLnBvc3REYXRhID0gZnVuY3Rpb24gKGtleSwgZGF0YSwgX2NhbGxiYWNrUywgX2NhbGxiYWNrRSwgY29uZmlnKSB7CiAgZGF0YVsndGsnXSA9IFV0aWxzLmdldENvb2tpZSgndGsnKTsKICBkYXRhWydsYyddID0gVXRpbHMuZ2V0Q29va2llKCdsYycpOwogIGF4aW9zLnBvc3QoJy9hcGkvJyArIGtleSwgZGF0YSwgY29uZmlnIHx8IHt9KS50aGVuKGZ1bmN0aW9uIChyc3QpIHsKICAgIGlmIChyc3QuZGF0YS5lcnJvcikgewogICAgICBhbGVydChyc3QuZGF0YS5tZXNzYWdlKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmIChfY2FsbGJhY2tTKSBfY2FsbGJhY2tTKHJzdC5kYXRhKTsKICB9KS5jYXRjaChmdW5jdGlvbiAocnN0KSB7CiAgICBpZiAoX2NhbGxiYWNrRSkgX2NhbGxiYWNrRShyc3QpOwogIH0pOwp9OwoKVXRpbHMuYWpheERhdGEgPSBmdW5jdGlvbiAoa2V5LCBkYXRhLCBfY2FsbGJhY2tTLCBfY2FsbGJhY2tFKSB7CiAgZGF0YVsndGsnXSA9IFV0aWxzLmdldENvb2tpZSgndGsnKTsKICBkYXRhWydsYyddID0gVXRpbHMuZ2V0Q29va2llKCdsYycpOwogIGF4aW9zLmdldCgnL2FwaS8nICsga2V5LCB7CiAgICBwYXJhbXM6IGRhdGEKICB9KS50aGVuKGZ1bmN0aW9uIChyc3QpIHsKICAgIGlmIChyc3QuZGF0YS5lcnJvcikgewogICAgICBhbGVydChyc3QuZGF0YS5tZXNzYWdlKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmIChfY2FsbGJhY2tTKSBfY2FsbGJhY2tTKHJzdC5kYXRhKTsKICB9KS5jYXRjaChmdW5jdGlvbiAocnN0KSB7CiAgICBpZiAoX2NhbGxiYWNrRSkgX2NhbGxiYWNrRShyc3QpOwogIH0pOwp9OwoKVXRpbHMubG9naW4gPSBmdW5jdGlvbiAodXNlcm5hbWUsIHBhc3N3b3JkLCBjYWxsYmFjaykgewogIFV0aWxzLnBvc3REYXRhKEFQSS5Mb2dpbiwgewogICAgJ3VzZXJuYW1lJzogdXNlcm5hbWUgfHwgJ3Jvb3QnLAogICAgJ3Bhc3N3b3JkJzogcGFzc3dvcmQgfHwgJzEyMzQ1NicKICB9LCBmdW5jdGlvbiAocmVzKSB7CiAgICBpZiAocmVzLmVycm9yKSByZXR1cm47CiAgICBVdGlscy5zZXRDb29raWUoInRrIiwgcmVzLmRhdGEudGspOwogICAgVXRpbHMuc2V0Q29va2llKCJsYyIsIHJlcy5kYXRhLmxjKTsKICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soKTsKICB9KTsKfTsgLy8g5Zyw5Zu+5Yy65Z+f5ZCN56ew5pig5bCE6KGoCi8vIHsnY2hpbmEnOiB7JzUxMDAwMCc6ICcnfSwgJzUxMDAwMCc6IHt9fQoKClV0aWxzLk5hbWVzID0ge307CgpVdGlscy5mb3JtYXRSZWdpb24gPSBmdW5jdGlvbiAobWFwTmFtZSwgZGF0YSkgewogIHZhciBtYXBEYXRhID0gZWNoYXJ0cy5nZXRNYXAobWFwTmFtZSk7CiAgaWYgKCFtYXBEYXRhKSByZXR1cm47CiAgdmFyIG5hbWVzID0gVXRpbHMuTmFtZXNbbWFwTmFtZV07IC8vIGNvbnNvbGUubG9nKG5hbWVzKTsKCiAgcmV0dXJuIGRhdGEubWFwKGZ1bmN0aW9uIChkKSB7CiAgICByZXR1cm4gewogICAgICBuYW1lOiBuYW1lc1tkWzBdXSwKICAgICAgdmFsdWU6IGRbMV0sCiAgICAgIGNvZGU6IGRbMF0sCiAgICAgIHRhZ3M6IGQuc2xpY2UoMikKICAgIH07CiAgfSk7Cn07CgpVdGlscy5yZXBsYWNlQWxsID0gZnVuY3Rpb24gKHN0ciwgc3JjLCB0YXIpIHsKICByZXR1cm4gc3RyLnJlcGxhY2UobmV3IFJlZ0V4cChzcmMsICJnbSIpLCB0YXIpOwp9OwoKVXRpbHMucmVnaXN0ZXJNYXAgPSBmdW5jdGlvbiAobWFwTmFtZSwgZ2VvSnNvbikgewogIGdlb0pzb24gPSBKU09OLnBhcnNlKGdlb0pzb24pOwogIGVjaGFydHMucmVnaXN0ZXJNYXAobWFwTmFtZSwgZ2VvSnNvbik7IC8vIOe8k+WtmOWcsOWbvuWMuuWfn+WQjeensOaYoOWwhOihqAoKICBVdGlscy5OYW1lc1ttYXBOYW1lXSA9IGdlb0pzb24uZmVhdHVyZXMucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7CiAgICBhW2IuaWQudG9TdHJpbmcoKV0gPSBiLnByb3BlcnRpZXMubmFtZTsKICAgIHJldHVybiBhOwogIH0sIHt9KTsKfTsKClV0aWxzLmRyYXdHcmFwaCA9IGZ1bmN0aW9uIChvcHRpb24sIGlkKSB7CiAgdmFyIG15Q2hhcnQgPSBlY2hhcnRzLmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpKTsKICBteUNoYXJ0LnNldE9wdGlvbihvcHRpb24pOwogIHJldHVybiBteUNoYXJ0Owp9OwoKVXRpbHMuZHJhdyA9IGZ1bmN0aW9uIChjaGFydCwgaWQpIHsKICBjaGFydC5pbnN0YW5jZSA9IFV0aWxzLmRyYXdHcmFwaChjaGFydC5vcHRpb24sIGlkKTsKICByZXR1cm4gY2hhcnQuaW5zdGFuY2U7Cn07CgpVdGlscy5nZXREZXZpY2UgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIHcgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0V2lkdGggfHwgZG9jdW1lbnQuYm9keS5vZmZzZXRXaWR0aDsKICBpZiAodyA8IDc2OCkgcmV0dXJuICd4cyc7CiAgcmV0dXJuIHcgPCAxMDY0ID8gJ3NtJyA6IHcgPCAxMjAwID8gJ21kJyA6ICdsZyc7IC8vIDk5Mgp9OwoKVXRpbHMubGFzdCA9IGZ1bmN0aW9uIChhcnkpIHsKICByZXR1cm4gYXJ5W2FyeS5sZW5ndGggLSAxXTsKfTsKClV0aWxzLmludGVycG9sYXRlQ29sb3IgPSBmdW5jdGlvbiAoY29sb3JzLCBtaW5WYWx1ZSwgbWF4VmFsdWUpIHsKICBpZiAobWF4VmFsdWUgPT0gdW5kZWZpbmVkKSB7CiAgICB2YXIgX3JlZiA9IFttaW5WYWx1ZSwgMF07CiAgICBtYXhWYWx1ZSA9IF9yZWZbMF07CiAgICBtaW5WYWx1ZSA9IF9yZWZbMV07CiAgfQoKICB2YXIgZGlmZiA9IG1heFZhbHVlIC0gbWluVmFsdWUsCiAgICAgIGxlbiA9IDEgLyAoY29sb3JzLmxlbmd0aCAtIDEpOwogIHZhciBybmdzID0gW107CgogIGZvciAodmFyIGkgPSAwOyBpIDwgY29sb3JzLmxlbmd0aCAtIDE7IGkrKykgewogICAgcm5ncy5wdXNoKGQzLmludGVycG9sYXRlTGFiKGNvbG9yc1tpXSwgY29sb3JzW2kgKyAxXSkpOwogIH0KCiAgdGhpcy5jb21wdXRlID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICBpZiAodmFsdWUgPj0gbWF4VmFsdWUpIHJldHVybiBybmdzW3JuZ3MubGVuZ3RoIC0gMV0oMSk7CiAgICB2YXIgcCA9ICh2YWx1ZSAtIG1pblZhbHVlKSAvIGRpZmY7CiAgICB2YXIgaWR4ID0gcGFyc2VJbnQocCAvIGxlbik7CiAgICB2YXIgcDIgPSAocCAtIGlkeCAqIGxlbikgLyBsZW47CiAgICB2YXIgcm5nID0gcm5nc1tpZHhdOwogICAgcmV0dXJuIHJuZyhwMik7CiAgfTsKfTsKClV0aWxzLkNvbG9ycyA9IFsnI0Y1NTI1MycsICcjRkY5NjFFJywgJyMxNzIwMmEnLCAnIzE3OEI1MCddOwpleHBvcnQgeyBVdGlscyB9Ow=="},{"version":3,"sources":["C:/Users/Meng Yin/Desktop/COVID-19-Visualization/www/src/js/utils.js"],"names":["axios","API","echarts","d3","Utils","setCookie","name","value","hour","exp","Date","setTime","getTime","document","cookie","escape","toUTCString","getCookie","dftValue","undefined","reg","RegExp","arr","match","unescape","postData","key","data","_callbackS","_callbackE","config","post","then","rst","error","alert","message","catch","ajaxData","get","params","login","username","password","callback","Login","res","tk","lc","Names","formatRegion","mapName","mapData","getMap","names","map","d","code","tags","slice","replaceAll","str","src","tar","replace","registerMap","geoJson","JSON","parse","features","reduce","a","b","id","toString","properties","drawGraph","option","myChart","init","getElementById","setOption","draw","chart","instance","getDevice","w","documentElement","offsetWidth","body","last","ary","length","interpolateColor","colors","minValue","maxValue","diff","len","rngs","i","push","interpolateLab","compute","p","idx","parseInt","p2","rng","Colors"],"mappings":"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","sourcesContent":["import axios from 'axios';\n\nimport {API} from \"./server\"\nimport echarts from 'echarts'\nimport * as d3 from 'd3-interpolate';\n\nlet Utils = {};\n\n\nUtils.setCookie = function (name, value, hour) {\n  hour = hour || 200;\n  let exp = new Date();\n  exp.setTime(exp.getTime() + hour * 3600 * 1000);\n  document.cookie = name + '=' + escape(value) + ';expires=' + exp.toUTCString();\n};\n\nUtils.getCookie = function (name, dftValue) {\n  if (dftValue === undefined) dftValue = null;\n  let reg = new RegExp('(^| )' + name + '=([^;]*)(;|$)');\n  let arr = document.cookie.match(reg);\n  return (arr) ? unescape(arr[2]) : dftValue;\n};\n\nUtils.postData = function (key, data, _callbackS, _callbackE, config) {\n  data['tk'] = Utils.getCookie('tk');\n  data['lc'] = Utils.getCookie('lc');\n  axios.post('/api/' + key, data, config || {})\n    .then(function (rst) {\n      if (rst.data.error) {\n        alert(rst.data.message);\n        return;\n      }\n      if (_callbackS)_callbackS(rst.data);\n    })\n    .catch(function (rst) {\n      if (_callbackE) _callbackE(rst);\n    });\n};\n\nUtils.ajaxData = function (key, data, _callbackS, _callbackE) {\n  data['tk'] = Utils.getCookie('tk');\n  data['lc'] = Utils.getCookie('lc');\n  axios.get('/api/' + key, {params: data})\n    .then(function (rst) {\n      if (rst.data.error) {\n        alert(rst.data.message);\n        return;\n      }\n      if (_callbackS)_callbackS(rst.data);\n    })\n    .catch(function (rst) {\n      if (_callbackE) _callbackE(rst);\n    });\n};\n\nUtils.login = function (username, password, callback) {\n  Utils.postData(API.Login, {'username': username || 'root', 'password': password || '123456'}, function (res) {\n    if (res.error) return;\n    Utils.setCookie(\"tk\", res.data.tk);\n    Utils.setCookie(\"lc\", res.data.lc);\n    if (callback) callback();\n  });\n};\n\n// 地图区域名称映射表\n// {'china': {'510000': ''}, '510000': {}}\nUtils.Names = {};\nUtils.formatRegion = function (mapName, data) {\n  let mapData = echarts.getMap(mapName);\n  if (!mapData) return;\n  let names = Utils.Names[mapName];\n\n  // console.log(names);\n  return data.map(d => ({\n    name: names[d[0]], value: d[1], code: d[0], tags: d.slice(2)\n  }));\n};\n\nUtils.replaceAll = function (str, src, tar) {\n  return str.replace(new RegExp(src, \"gm\"), tar);  \n}\n\nUtils.registerMap = function (mapName, geoJson) {\n  geoJson = JSON.parse(geoJson);\n  echarts.registerMap(mapName, geoJson);\n  \n  // 缓存地图区域名称映射表\n  Utils.Names[mapName] = geoJson.features.reduce((a, b) => {\n      a[b.id.toString()] = b.properties.name;\n      return a;\n  }, {});\n};\n\nUtils.drawGraph = function (option, id) {\n  let myChart = echarts.init(document.getElementById(id));\n  myChart.setOption(option);\n  return myChart;\n};\n\nUtils.draw = function (chart, id) {\n  chart.instance = Utils.drawGraph(chart.option, id);\n  return chart.instance;\n};\n\nUtils.getDevice = function () {\n  let w = document.documentElement.offsetWidth || document.body.offsetWidth;\n  if (w < 768) return 'xs'; \n  return (w < 1064) ? 'sm' : (w < 1200 ? 'md' : 'lg'); // 992\n}\n\nUtils.last = function (ary) {\n  return ary[ary.length - 1];\n}\n\nUtils.interpolateColor = function (colors, minValue, maxValue) {\n  if (maxValue == undefined) [maxValue, minValue] = [minValue, 0];\n  let [diff, len] = [maxValue - minValue, 1 / (colors.length - 1)]; \n  let rngs = [];\n  for (let i = 0; i < colors.length - 1; i++) \n    rngs.push(d3.interpolateLab(colors[i], colors[i + 1]));\n\n  this.compute = function (value) {\n    if (value >= maxValue) return rngs[rngs.length - 1](1);\n    let p = (value - minValue) / diff;\n    let idx = parseInt(p / len);\n    let p2 = (p - idx * len) / len;\n    let rng = rngs[idx];\n    return rng(p2);\n  }\n};\n\nUtils.Colors = ['#F55253', '#FF961E', '#17202a', '#178B50'];\n\n\nexport {Utils};\n"]}]}